# Lesson 01

Starting WebGL
==============

You don't need a lot to start up WebGL. You'll need an HTML5 canvas element, which you can write
into your markup, or create one like I do with `document.createElement`. Then you call
`canvas.getContext("webgl")`. If it works, this returns a WebGL context object, which you should
call `gl`.

	var gl = canvas.getContext("webgl")

You can have more than one canvas, each with its own WebGL context, and draw to each one, but you
can't have more than one context on a single canvas. You could even set up a WebGL context on a
canvas that's not attached to the document. But WebGL is allowed to not execute drawing commands
that don't actually appear on screen, so there's not much of a point.

The canvas object
=================

You don't need to keep a reference to the canvas itself. You can always refer to it as `gl.canvas`,
in case you want to style it. One thing you're likely to want to do is resize it. This is as easy
as:

	gl.canvas.width = 854
	gl.canvas.height = 480
	gl.viewport(0, 0, 854, 480)

You can resize it whenever you want. Just make sure to include the call to `gl.viewport` again.
I'll refer to the canvas as the "viewport" from now on. I don't know if that's the correct term, but
it sounds right to me.

`gl.clear`
==========

There are only two ways to actually draw somethng in WebGL. One is `gl.clear`, and one is
`gl.drawArrays` or `gl.drawElements`. There are of course a bunch of other methods you'll need to
call, but the viewport won't actually change until you call one of these.

`gl.clear` is pretty simple - it sets the entire viewport to some color. Typically this is done at
the beginning of every frame of your game or animation, to start with a clean slate. The way you
should call `gl.clear` is like this:

	gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT)

You don't need `gl.DEPTH_BUFFER_BIT` in there if you're not using the depth buffer, which we're not,
but it doesn't hurt to get in the habit of clearing the depth buffer as well. We'll be discussing
depth later. But you can just clear the color buffer if you prefer for now.

Setting the clear color
=======================

Colors in WebGL are represented by 4 values that range from 0 to 1, corresponding to the red, green,
blue, and alpha channels. This is similar to HTML and CSS colors, except the range is 0 to 1 instead
of 0 to 255. Sometimes WebGL converts between the two ranges, like when you upload a texture, but
when you just specify a color, it will generally use values 0 to 1.

	gl.clearColor(0, 0, 0, 1)

This sets the cleor color to solid (opaque) black. The default is transparent black (0, 0, 0, 0).
For reasons I'll get into later, I recommend always setting the alpha value of the clear color to 1
in WebGL. After calling `gl.clearColor`, any calls to `gl.clear` will use the specified color.

Scissor testing
===============

The scissor test lets you update part of the viewport while leaving the rest unchanged. If you
were to draw a shape, only the part of the shape that falls within the scissor region (i.e. the part
that passes the scissor test) would appear. This is similar to the HTML5 2d drawing context method
`clip`, except it only lets you clip within a rectangular region.

	gl.enable(gl.SCISSOR_TEST)
	gl.scissor(x, y, w, h)

Scissor testing is disabled by default, so you need to enable it with `gl.enable` before it will
work. You also need to set the scissor box you want to clip within. The scissor box is in viewport
coordinates, which is units of pixels with (0, 0) at the _lower left_. This is different from HTML5
2d drawing context, where (0, 0) is in the upper left. Anyway, (x,y) is the lower left corner of
the scissor box in pixels, and (w,h) is the scissor box size in pixels. To disable the scissor test,
use:

	gl.disable(gl.SCISSOR_TEST)

In Lesson 01, we use the scissor test along with `gl.clear` to draw rectangles of a solid color.
Scissor testing can be occasionally useful, but we're not going to use it again.

Getters used in this lesson
===========================

	// Number: viewport width in pixels
	gl.drawingBufferWidth
	// Number: viewport height in pixels
	gl.drawingBufferHeight
	// Array of 4 Numbers: [x, y, w, h] of the viewport box
	gl.getParameter(gl.VIEWPORT)
	// Array of 4 Numbers: [r, g, b, a] of the clear color
	gl.getParameter(gl.COLOR_CLEAR_VALUE)
	// boolean: whether scissor test is enabled
	gl.getParameter(gl.SCISSOR_TEST)
	// Array of 4 Numbers: [x, y, w, h] of the scissor region
	gl.getParameter(gl.SCISSOR_BOX)

Exercises
=========

1. Change the background to a brighter or draker shade of blue.
1. Change the yellow box to purple.
1. Resize the viewport to 100x100 and draw a red box inside it.
1. Add a CSS border to the canvas with `gl.canvas.style.border`.
1. Create a second viewport and clear it to black, then clear the first viewport to orange.

